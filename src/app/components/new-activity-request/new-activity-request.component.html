<div class="new-activity-container">
  <app-sidebar [sidebarType]="'finance'"></app-sidebar>
  
  <div class="main-content">
    <app-header 
      title="Financial Services" 
      subtitle="Finance Services/Activity Requests"
      headerClass="finance"
      [showBackButton]="true">
    </app-header>
    
    <div class="new-activity-content">
      <div class="new-activity-section">
        <div class="section-header">
          <h2>NEW ACTIVITY REQUEST</h2>
        </div>
        
        <div class="section-body">
          <div class="form-layout">
            <div class="left-section">
              <!-- Personal Details -->
              <div class="form-section">
                <h3>Personal Details</h3>
                <div class="form-row">
                  <div class="form-group">
                    <label>Employee's Name</label>
                    <input type="text" [(ngModel)]="newRequest.employeeName" [value]="currentUser?.name" readonly>
                  </div>
                  <div class="form-group">
                    <label>Employee's Number</label>
                    <input type="text" [(ngModel)]="newRequest.employeeNumber" [value]="currentUser?.employeeNumber" readonly>
                  </div>
                </div>
                <div class="form-group">
                  <label>Employee's Email</label>
                  <input type="email" [(ngModel)]="newRequest.employeeEmail" [value]="currentUser?.email" readonly>
                </div>
              </div>
              
              <!-- Project Details -->
              <div class="form-section">
                <h3>Project Details</h3>
                <div class="form-row">
                  <div class="form-group">
                    <label>Project Code</label>
                    <select [(ngModel)]="newRequest.projectCode">
                      <option value="">Project Code</option>
                      <option value="PRJ001">PRJ001</option>
                      <option value="PRJ002">PRJ002</option>
                    </select>
                  </div>
                  <div class="form-group">
                    <label>Funding Source</label>
                    <select [(ngModel)]="newRequest.fundingSource">
                      <option value="">Funding Source</option>
                      <option value="Internal">Internal</option>
                      <option value="External">External</option>
                    </select>
                  </div>
                </div>
                <div class="form-row">
                  <div class="form-group">
                    <label>Program Area</label>
                    <select [(ngModel)]="newRequest.programArea">
                      <option value="">Program Area</option>
                      <option value="Health">Health</option>
                      <option value="Education">Education</option>
                    </select>
                  </div>
                  <div class="form-group">
                    <label>Activity</label>
                    <select [(ngModel)]="newRequest.activity">
                      <option value="">Activity</option>
                      <option value="Training">Training</option>
                      <option value="Meeting">Meeting</option>
                    </select>
                  </div>
                </div>
                <div class="form-row">
                  <div class="form-group">
                    <label>County</label>
                    <select [(ngModel)]="newRequest.county">
                      <option value="">County</option>
                      <option value="Nairobi">Nairobi</option>
                      <option value="Mombasa">Mombasa</option>
                    </select>
                  </div>
                  <div class="form-group">
                    <label>Site</label>
                    <select [(ngModel)]="newRequest.site">
                      <option value="">Site</option>
                      <option value="Site A">Site A</option>
                      <option value="Site B">Site B</option>
                    </select>
                  </div>
                </div>
              </div>
              
              <!-- Dates and Amount -->
              <div class="form-section">
                <div class="form-row">
                  <div class="form-group">
                    <label>Start Date</label>
                    <input type="date" [(ngModel)]="newRequest.startDate">
                  </div>
                  <div class="form-group">
                    <label>End Date</label>
                    <input type="date" [(ngModel)]="newRequest.endDate">
                  </div>
                </div>
                <div class="form-row">
                  <div class="form-group">
                    <label>Currency</label>
                    <input type="text" [(ngModel)]="newRequest.currency" placeholder="Currency">
                  </div>
                  <div class="form-group">
                    <label>Amount</label>
                    <input type="number" [(ngModel)]="newRequest.amount" placeholder="Requested Amount">
                  </div>
                </div>
              </div>
              
              <!-- Description -->
              <div class="form-section">
                <div class="form-group">
                  <label>Description</label>
                  <textarea [(ngModel)]="newRequest.description" placeholder="Description" rows="3"></textarea>
                </div>
              </div>
            </div>
            
            <div class="right-section">
              <!-- Supporting Files -->
              <div class="files-section">
                <h3>Upload Supporting files</h3>
                <p class="files-subtitle">Select and upload the files of your choice</p>
                
                <div class="file-upload-area" (click)="triggerFileUpload()">
                  <div class="upload-icon">
                    <img src="assets/cloud-add.svg" alt="Upload" width="48" height="48" />
                  </div>
                  <h4>Choose a file or drag & drop it here</h4>
                  <p>JPEG, PNG, PDF, and MP4 formats, up to 50MB</p>
                  <button class="browse-btn">Browse File</button>
                </div>
                
                <div class="form-group">
                  <label>Document Description</label>
                  <textarea placeholder="Document Description" rows="3"></textarea>
                </div>
              </div>
            </div>
          </div>
        </div>
        
        <div class="section-footer">
          <button class="btn btn-primary" (click)="submitNewRequest()">submit</button>
          <button class="btn btn-success" (click)="cancel()">Cancel</button>
        </div>
      </div>
    </div>
    
    <app-footer></app-footer>
  </div>
</div> 