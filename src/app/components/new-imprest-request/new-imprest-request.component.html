<div class="new-imprest-container">
  <app-sidebar [sidebarType]="'finance'"></app-sidebar>
  <div class="main-content">
    <app-header 
      title="Financial Services" 
      subtitle="Finance Services/Imprest Request"
      headerClass="finance"
      [showBackButton]="true">
    </app-header>
    <div class="new-imprest-content">
      <div class="new-imprest-section card-effect">
        <div class="section-header">
          <h2>IMPREST REQUEST</h2>
        </div>
        <div class="section-body">
          <div class="form-layout">
            <div class="left-section">
              <!-- Personal Details -->
              <div class="form-section">
                <h3>Personal Details</h3>
                <div class="form-row">
                  <div class="form-group">
                    <label>Employee's Name</label>
                    <input type="text" [(ngModel)]="newRequest.employeeName" placeholder="Employee's Name">
                  </div>
                  <div class="form-group">
                    <label>Employee's No.</label>
                    <input type="text" [(ngModel)]="newRequest.employeeNumber" placeholder="Employee's No.">
                  </div>
                </div>
                <div class="form-row">
                  <div class="form-group">
                    <label>MPESA Number</label>
                    <input type="text" [(ngModel)]="newRequest.mpesaNumber" placeholder="MPESA Number">
                  </div>
                  <div class="form-group">
                    <label>MPESA Reg. Name</label>
                    <input type="text" [(ngModel)]="newRequest.mpesaRegName" placeholder="MPESA Reg. Name">
                  </div>
                </div>
              </div>
              <!-- Project Details -->
              <div class="form-section">
                <h3>Project Details</h3>
                <div class="form-row">
                  <div class="form-group input-icon-wrapper">
                    <label>Project Code</label>
                    <select [(ngModel)]="newRequest.projectCode">
                      <option value="">Project Code</option>
                      <option value="PRJ001">PRJ001</option>
                      <option value="PRJ002">PRJ002</option>
                    </select>
                    <span class="input-icon chevron-icon">
                      <svg width="20" height="20" fill="none" viewBox="0 0 24 24"><path d="M6 9l6 6 6-6" stroke="#214098" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/></svg>
                    </span>
                  </div>
                  <div class="form-group">
                    <label>Funding Source</label>
                    <select [(ngModel)]="newRequest.fundingSource">
                      <option value="">Funding Source</option>
                      <option value="Internal">Internal</option>
                      <option value="External">External</option>
                    </select>
                  </div>
                </div>
                <div class="form-row">
                  <div class="form-group">
                    <label>Program Area</label>
                    <select [(ngModel)]="newRequest.programArea">
                      <option value="">Program Area</option>
                      <option value="Health">Health</option>
                      <option value="Education">Education</option>
                    </select>
                  </div>
                  <div class="form-group">
                    <label>Activity</label>
                    <select [(ngModel)]="newRequest.activity">
                      <option value="">Activity</option>
                      <option value="Training">Training</option>
                      <option value="Meeting">Meeting</option>
                    </select>
                  </div>
                </div>
                <div class="form-row">
                  <div class="form-group">
                    <label>County</label>
                    <select [(ngModel)]="newRequest.county">
                      <option value="">County</option>
                      <option value="Nairobi">Nairobi</option>
                      <option value="Mombasa">Mombasa</option>
                    </select>
                  </div>
                  <div class="form-group">
                    <label>Site</label>
                    <select [(ngModel)]="newRequest.site">
                      <option value="">Site</option>
                      <option value="Site A">Site A</option>
                      <option value="Site B">Site B</option>
                    </select>
                  </div>
                </div>
              </div>
              <!-- Dates and Amount -->
              <div class="form-section">
                <div class="form-row">
                  <div class="form-group input-icon-wrapper">
                    <label>Start Date</label>
                    <input type="date" [(ngModel)]="newRequest.startDate">
                    <span class="input-icon calendar-icon">
                      <svg width="20" height="20" fill="none" viewBox="0 0 24 24"><path d="M7 2v2M17 2v2M3 8h18M5 8v12a2 2 0 0 0 2 2h10a2 2 0 0 0 2-2V8M5 8V6a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2v2" stroke="#214098" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/><rect x="9" y="12" width="6" height="6" rx="1" fill="#214098"/></svg>
                    </span>
                  </div>
                  <div class="form-group">
                    <label>End Date</label>
                    <input type="date" [(ngModel)]="newRequest.endDate">
                  </div>
                </div>
                <div class="form-row">
                  <div class="form-group">
                    <label>Currency</label>
                    <input type="text" [(ngModel)]="newRequest.currency" placeholder="Currency">
                  </div>
                  <div class="form-group">
                    <label>Amount</label>
                    <input type="number" [(ngModel)]="newRequest.amount" placeholder="Requested Amount">
                  </div>
                </div>
              </div>
              <!-- Description -->
              <div class="form-section">
                <div class="form-group">
                  <label>Description</label>
                  <textarea [(ngModel)]="newRequest.description" placeholder="Description" rows="3"></textarea>
                </div>
              </div>
            </div>
            <div class="right-section">
              <!-- Supporting Files -->
              <div class="files-section file-upload-card">
                <h3>Upload Supporting files</h3>
                <p class="files-subtitle">Select and upload the files of your choice</p>
                <div class="file-upload-area styled-upload-area" (click)="triggerFileUpload()">
                  <div class="upload-icon">
                    <img src="assets/cloud-add.svg" alt="Upload" width="48" height="48" />
                  </div>
                  <h4>Choose a file or drag & drop it here</h4>
                  <p>JPEG, PNG, PDF, and MP4 formats, up to 50MB</p>
                  <button class="browse-btn">Browse File</button>
                </div>
                <div class="form-group">
                  <label>Document Description</label>
                  <textarea placeholder="Document Description" rows="3"></textarea>
                </div>
              </div>
            </div>
          </div>
        </div>
        <div class="section-footer">
          <button class="btn btn-primary" (click)="submitNewRequest()">submit</button>
          <button class="btn btn-success" (click)="cancel()">Cancel</button>
        </div>
      </div>
    </div>
    <app-footer></app-footer>
  </div>
</div>